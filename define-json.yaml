id: https://cdisc.org/define-json
name: Define-JSON
description: >-
  Data model for supply and demand data contracts to complement CDISC USDM, ODM, and Dataset-JSON.
  (This LinkML version includes semantics to act as 'Rosetta Stone' for FHIR, OMOP, RDF, and CDISC)
license: MIT

prefixes:
  linkml: https://w3id.org/linkml/
  skos: http://www.w3.org/2004/02/skos/core#
  xsd: http://www.w3.org/2001/XMLSchema#
  odm: https://cdisc.org/odm2/
  usdm: https://cdisc.org/usdm/
  sdtm: https://cdisc.org/cosmos/sdtm_v1.0#
  fhir: http://hl7.org/fhir/
  omop: https://omop.org/omop-cdm/
  qb: http://purl.org/linked-data/cube#
default_prefix: odm

imports:
  - linkml:types

classes:
  IdentifiableElement:
    abstract: true
    attributes:
      # is there a more conventional local identifier than this? 'id' is used in many places but may be ambiguous
      OID:
        description: >-
          Local identifier within this study/context. 
          Use CDISC OID format for regulatory submissions,
          or simple strings for internal use.
        identifier: true
        range: string
        pattern: "^[A-Za-z][A-Za-z0-9._-]*$"
      # URI vs UUID?
      uuid:
        description: Universal unique identifier
        range: string
      name:
        description: Short name or identifier, used for field names
        range: string
      description:
        description: Detailed description, shown in tooltips
        range: TranslatedText
      coding:
        description: Semantic tags for this element
        range: Coding
        multivalued: true
      label:
        description: Human-readable label, shown in UIs
        range: TranslatedText
        exact_mappings:
          - skos:prefLabel
      aliases:
        description: >-
          Alternative name or identifier for this CodeList.
        range: TranslatedText
        multivalued: true
        inlined: true
        inlined_as_list: true
        exact_mappings:
          - skos:altLabel
      # FHIR-inspired metadata attributes
      meta:
        description: >-
          Metadata about this element, such as version, status, and provenance.
        range: Metadata
        inlined: true

  GovernedElement:
    is_a: IdentifiableElement
    abstract: true
    description: >-
      An element that can be governed by collection rules
    attributes:
      mandatory:
        description: >-
          Is this element required?
        range: boolean
      collectionExceptionCondition:
        description: >-
          Condition that defines when collection may be exempted
        range: Condition
      comment:
        description: >-
          Comment on the element, such as a rationale for its inclusion or exclusion.
        range: Comment
        multivalued: true
      # FHIR-inspired provenance extensions
      recorded:
        description: When this definition was created or last modified
        range: datetime
      agents:
        description: People or systems involved in defining this item
        range: User
        multivalued: true
      reason:
        description: Purpose or rationale for this data element
        range: TranslatedText

  ReifiedConcept:
    is_a: GovernedElement
    description: >-
      Canonical information layer showing how different data implementations (Items and ItemGroups)
      represent the same underlying meanings, by making abstract concepts explicit and referenceable.
      These objects are approximated as star schemas i.e. a central object with multiple properties.
    narrow_mappings:
      - usdm:BiomedicalConcept
      - usdm:AnalysisConcept
      - usdm:DerivationConcept
    attributes:
      properties:
        description: >-
          Properties of the reified object, which can be other governed elements or simple values.
        range: ConceptProperty
        multivalued: true
  
  ConceptProperty:
    is_a: GovernedElement
    narrow_mappings:
      - usdm:BiomedicalConceptProperty
      - usdm:DerivationConceptProperty
      - usdm:AnalysisConceptProperty
    description: >-
      A reification of a property concept in the context of its containing topic concept.
    attributes:
      isEnabled:
        description: >-
          Indicates whether this property is enabled for the concept.
        range: boolean
      codeList:
        description: >-
          Reference to a CodeList that constrains the values of this property.
        range: CodeList

  MetaDataVersion:
    tree_root: true
    is_a: GovernedElement
    description: >-
      A MetaDataVersion element is the container representing a given version of a specification.
      It links to a particular usage context e.g. study, dataset, or a data collection instrument.
      All IdentifiableElements in scope are registered here for reuse
    close_mappings:
      - usdm:StudyDesign
    attributes:
      documents:
        description: >-
          References to documents that describe this version of the metadata.
        range: DocumentReference
        multivalued: true
      conditions:
        description: >-
          Conditions that apply to this version of the metadata.
        range: Condition
        multivalued: true
      whereClauses:
        description: >-
          Data contexts that apply to this version of the metadata.
        range: WhereClause
        multivalued: true
      itemGroups:
        description: >-
          Item groups defined in this version of the metadata.
        range: ItemGroup
        multivalued: true
      items:
        description: >-
          Items defined in this version of the metadata.
        range: Item
        multivalued: true
      methods:
        description: >-
          Methods defined in this version of the metadata.
        range: Method
        multivalued: true
      codeLists:
        description: >-
          Code lists defined in this version of the metadata.
        range: CodeList
        multivalued: true
      codings:
        description: Codings defined in this version of the metadata.
        range: Coding
        multivalued: true
      mappings:
        description: Coding mappings in this version of the metadata. 
        range: CodingMapping
        multivalued: true
      concepts:
        description: Structured Concepts defined in this version of the metadata.
        range: ReifiedConcept
        multivalued: true
      relationships:
        description: >-
          Relationships between items, item groups, and other elements in this version of the metadata.
        range: Relationship
        multivalued: true

  Item:
    is_a: GovernedElement
    description: >-
      A data item in a specific context.
    exact_mappings:
      - odm:ItemRef
      - odm:ItemDef
    close_mappings:
      - qb:ComponentSpecification
      - fhir:ElementDefinition
    narrow_mappings:
      - fhir:StructureDefinition/variable
      - omop:Field
      - omop:DerivedColumn
      - qb:MeasureProperty
      - qb:AttributeProperty
      - qb:ComponentProperty
    related_mappings:
      - usdm:BiomedicalConceptProperty
      - usdm:DerivationConceptProperty
      - usdm:AnalysisConceptProperty
    attributes:
      dataType:
        description: >-
          The data type of the item.
        range: DataType
        required: true
      length:
        description: >-
          The maximum length of the data item in characters.
        range: integer
      codeList:
        description: >-
          Reference to the CodeList that constrains the item values.
        range: CodeList
      method:
        description: >-
          Reference to the Method element that describes how to derive this item's value.
        range: Method
      role:
        description: >-
          Identifies the role of the item within the containing context, taken from the roleCodeList.
        range: TranslatedText
      roleCodeList:
        description: >-
          Reference to the CodeList that defines the roles for this item.
        range: CodeList
      hasNoData:
        description: >-
          Set to Yes if this is a manifest and there is no data for this item.
        range: boolean
      rangeChecks:
        description: Range checks applied to this item
        range: RangeCheck
        multivalued: true
      whereClause:
        description: Conditions for when this item definition applies
        range: WhereClause
      sourceItems:
        description: Source items used in derivation
        range: SourceItem
        multivalued: true
      origin:
        description: >-
          The origin of the data
        range: Origin
      conceptProperty:
        description: >-
          Reference to a abstract concept property that this item is a specialization / instance of.
        range: ConceptProperty
      # For COSMoS semantics - this might be superseded by Relationship class
      unitsItem:
        description: >-
          Reference to the item that defines the units of this item.
        range: Item
      # Not as sure about these ones
      crfCompletionInstructions:
        range: TranslatedText
        description: >-
          CRFCompletionInstructions reference: Instructions for the clinical site on how to enter collected information on the CRF.
      cdiscNotes:
        range: TranslatedText
        description: >-
          CDISCNotes reference: Explanatory text for the variable
      implementationNotes:
        description: >-
          ImplementationNotes reference: Further information, such as rationale and implementation instructions, on how to implement the CRF data collection fields.
        range: TranslatedText
      decimalDigits:
        description: >-
          For decimal values, the number of digits after the decimal point.
        range: integer
      displayFormat:
        description: >-
          A display format for the item.
        range: string
      significantDigits:
        description: >-
          For numeric values, the number of significant digits.
        range: integer

  ItemGroup:
    is_a: GovernedElement
    description: >-
      An ItemGroup element describes a specific context as a collection.
      Uses include 
       - Table / Dataframe
       - Object / Profile of a FHIR Resource
       - Data Specialisation of a Biomedical Concept
       - Section of a form
    exact_mappings:
      - odm:ItemGroupRef
      - odm:ItemGroupDef
    narrow_mappings:
      - fhir:StructureDefinition
      - omop:Table
      - qb:Dataset
    related_mappings:
      - usdm:BiomedicalConcept
      - usdm:Procedure
      - usdm:Indication
      - usdm:Event
      - qb:DataStructureDefinition
    attributes:
      domain:
        description: >-
          Domain abbreviation for the dataset.
        range: string
      structure:
        description: >-
          Data structure of the item group, indicating how the records are organized.
          If this is a FHIR Resource, is it nested or flattened?
          If this is a structured concept, is it a Biomedical/Derivation/Analysis concept?
        range: TranslatedText
      isReferenceData:
        description: >-
          Set to Yes if this is a reference item group.
        range: boolean
      purpose:
        description: >-
          Purpose of the item group
        range: ItemGroupPurpose
        multivalued: true
      items:
        description: Items in this group
        range: Item
        multivalued: true
        close_mappings:
          - fhir:StructureDefinition/snapshot
          - fhir:StructureDefinition/differential
      children:
        description: >-
          Child item groups within this item group.
        range: ItemGroup
        multivalued: true
      implementsConcept:
        description: >-
          Reference to a abstract concept topic that this item group is a specialization of
        range: ReifiedConcept
      whereClause:
        description: >- 
          If nested in a parent ItemGroup context,
          conditions for when this group applies
        range: WhereClause
        close_mappings:
          - fhir:StructureDefinition/context

  Coding:
    description: Semantic coding reference
    exact_mappings:
      - odm:Coding
      - usdm:Code
      - fhir:Coding
    close_mappings:
      - omop:Concept
      - skos:Concept
    # Do we need any of these types of structures in the model?
    # related_mappings:
    #   - usdm:AliasCode
    #   - linkml:StructuredAlias
    #   - skosxl:Label
    attributes: 
      uuid:
        description: Universal uniq ue identifier
        range: string
        identifier: true
      code:
        description: >-
          The code value.
        range: string
        required: true
      codeSystem:
        description: >-
          The code system identifier.
        range: string
        required: true
      codeSystemVersion:
        description: >-
          The code system version.
        range: string
      decode:
        description: Human-readable meaning
        range: TranslatedText
        exact_mappings:
          - skos:prefLabel
      mappings:
        description: Equivalent codings in other systems
        range: CodingMapping
        multivalued: true

  CodingMapping:
    description: Mapping between codings
    attributes:
      target:
        description: Target coding
        range: Coding
        required: true
      relationship:
        description: Type of mapping relationship
        range: AliasPredicateEnum
        required: true
      confidence:
        description: Confidence in the mapping (0.0-1.0)
        range: float
    
  WhereClause:
    is_a: IdentifiableElement
    exact_mappings:
      - qb:Slice
    related_mappings:
      - fhir:StructureDefinition/context
    description: >-
      A WhereClause element describes conditions under which the containing context applies.
      When empty, indicates applicability across the entire parent context.
    attributes:
      conditions:
        description: Logical conditions that apply in this context (combined with OR)
        range: Condition
        multivalued: true

  Condition:
    is_a: GovernedElement
    exact_mappings:
      - odm:ConditionDef
      - usdm:Condition
    related_mappings:
      - fhir:Expression
    description: >-
      Reusable logical condition with AND logic between components
    attributes:
      rangeChecks:
        description: Range checks that compose this condition (combined with AND)
        range: RangeCheck
        multivalued: true
      implementsCondition:
        description: Reference to a external (e.g. USDM) condition definition that this implements
        range: string
      dimensions:
        exact_mappings:
          - qb:SliceKey
        description: Items referenced in this condition
        range: DimensionProperty
        multivalued: true
      formalExpression:
        description: >-
          A formal expression for complex checks
        range: FormalExpression
        multivalued: true

  RangeCheck:
    is_a: GovernedElement
    description: >-
      A RangeCheck element describes a simple comparison check resolving as boolean.
      The referenced item's value is compared against a specified value.
    attributes:
      comparator:
        description: >-
          The type of comparison to be performed.
        range: Comparator
        required: true
      checkValues:
        description: Values to compare against
        range: string
        multivalued: true
      softHard:
        description: >-
          Indicates whether a validation check is an error ("Hard") or a warning ("Soft").
        range: SoftHard
      item:
        description: >-
          Reference to the Item element whose value is being checked. If not specified, check applies to the enclosing context.
        range: Item
      formalExpression:
        description: >-
          A formal expression for complex checks
        range: FormalExpression
        multivalued: true

  FormalExpression:
    is_a: IdentifiableElement
    exact_mappings:
      - odm:FormalExpression
      - odm:FormalExpressionRef
      - fhir:Expression
    description: >-
      A FormalExpression defines the execution of a data derivation in a given context.
    attributes:
      context:
        description: >-
          The specific context within the containing element to which this formal expression applies.
        exact_mappings:
          - fhir:Expression/language 
        range: string
      expression:
        description: >-
          The actual text of the formal expression (renamed from 'code' for disambiguation).
        range: string
        required: true
      returnType:
        description: Return type of the expression
        range: string
      parameters:
        description: Parameters used in the expression
        range: Parameter
        multivalued: true
      returnValue:
        description: Return value details
        range: ReturnValue
      externalCodeLibs:
        description: External code libraries referenced
        range: ExternalCodeLib
        multivalued: true

  Method:
    is_a: GovernedElement
    exact_mappings:
      - odm:MethodRef
      - odm:MethodDef
    close_mappings:
      - fhir:Expression
      - omop:Transformation
    description: >-
      A Method element describes a reusable derivation method that can be referenced by Items.
    attributes:
      type:
        description: >-
          The type of method: Computation, Imputation, or Transformation.
        range: MethodType
      formalExpressions:
        description: >-
          Formal expressions used by this method
        range: FormalExpression
        multivalued: true
      document:
        description: >-
          Reference to a document that describes this method in detail.
        range: DocumentReference

  SourceItem:
    is_a: IdentifiableElement
    description: Source of data for an item
    attributes:
      item:
        description: Reference to an item
        range: Item
      resource:
        description: Path to a resource (e.g. File, FHIR datasource) that is the source of this item
        range: Resource
        multivalued: true
      document:
        description: Reference to an external document
        range: DocumentReference

  Parameter:
    is_a: IdentifiableElement
    description: >-
      A Parameter element describes a parameter used in a formal expression.
    attributes:
      dataType:
        description: >-
          The data type of the parameter.
        range: DataType
      codeList:
        description: >-
          A list of allowed values for the parameter.
        range: CodeList
        multivalued: true
      value:
        description: >-
          A specific value for the parameter.
        range: string
      items:
        description: >-
          A list of item dependencies for the parameter.
        range: Item
        multivalued: true

  ReturnValue:
    is_a: IdentifiableElement
    description: Return value details for a formal expression
    attributes:
      dataType:
        description: >-
          The data type of the return value.
        range: DataType
      valueList:
        description: >-
          A list of possible return values.
        range: string
        multivalued: true

  ExternalCodeLib:
    is_a: IdentifiableElement
    description: >-
      An ExternalCodeLib element describes an external code library referenced by a formal expression.
    attributes:
      library:
        description: >-
          The name of the external code library.
        range: string
        required: true
      version:
        description: >-
          The version of the external code library.
        range: string
      location:
        description: >-
          The location (URL or other reference) of the external code library.
        range: string

  Origin:
    is_a: IdentifiableElement
    description: >-
      An Origin element describes the source of data for an item.
    attributes:
      type:
        description: >-
          The type of origin: CRF, Derived, Protocol, eDT, Predecessor.
        range: OriginType        
      source:
        description: >-
          The source of the data, such as Investigator, Sponsor, Subject, or Vendor.
        range: OriginSource
      sourceItems:
        description: >-
          Source items for this origin
        range: SourceItem
        multivalued: true
      document:
        description: >-
          Reference to a document that describes this origin in detail.
        range: DocumentReference

  CodeList:
    is_a: GovernedElement
    exact_mappings:
      - odm:CodeList
      - omop:Vocabulary
      - fhir:ValueSet
    close_mappings:
      - skos:Collection
      - qb:CodeList
    related_mappings:
      - usdm:BiomedicalConceptProperty/responseCodes
    description: >-
      Defines a discrete set of permissible values for an item. This corresponds to the ODM CodeList construct.
    attributes:
      dataType:
        description: >-
          The data type for the values in the code list.
        range: DataType
      formatName:
        description: >-
          Name of a standard format definition.
        range: string
      codeListItems:
        description: >-
          The individual values that make up this CodeList.
          The type of CodeListItem included determines its behaviour.
        any_of:
          - range: Coding
          - range: CodeListItem
          - range: TranslatedText
        inlined: true
        inlined_as_list: true
        multivalued: true
      externalCodeList:
        description: >-
          Reference to a code list that is defined externally to this study.
        range: Resource

  CodeListItem:
    is_a: Coding
    description: >-
      A structured CodeList member extending the Coding class in context of a CodeList.
    exact_mappings:
      - odm:CodeListItem
    close_mappings:
      - usdm:AliasCode
      - usdm:ResponseCode
      - fhir:CodeableConcept
      - omop:Concept
    attributes:
      description:
        description: >-
          A detailed description of the code (e.g., for documentation purposes).
        range: TranslatedText
      aliases:
        description: Alternative labels for the code (ODM Alias, skos:altLabel)
        range: TranslatedText
        multivalued: true
      weight:
        description: Numeric significance of the code (e.g., for scoring)
        range: decimal
      other:
        description: >-
          Flag to indicate that the term represents "other" content.
        range: boolean

  Comment:
    is_a: IdentifiableElement
    description: >-
      A Comment element contains a description of a comment by the data/metdata handler.
    attributes:
      text:
        description: >-
          The comment text.
        range: TranslatedText
        required: true
      documents:
        description: >-
          References to documents that contain or are referenced by this comment.
        range: DocumentReference
        multivalued: true

  SiteOrSponsorComment:
    is_a: IdentifiableElement
    description: >-
      Feedback from a site or sponsor.
      Renamed from Comment to avoid confusion with CommentDef.
    attributes:
      text:
        description: >-
          The comment text.
        range: TranslatedText
        required: true
      source:
        description: >-
          who made the comment, such as Investigator, Sponsor.
        any_of: 
          - range: string
          - range: OriginSource
          - range: User

  Resource:
    description: >-
      Describes an external resource used as the source for the parent ItemGroup or Item.
    is_a: IdentifiableElement
    attributes:
      resourceType:
        description: >-
          Type of resource (e.g.,  "ODM", "HL7-FHIR", "HL7-CDA", "HL7-v2", "OpenEHR-extract")
        range: string
        required: false
      attribute:
        description: Resource attribute name
        range: string
      href:
        description: Machine-readable instructions to obtain the resource e.g. FHIR path, URL
        range: string
        required: false
      
  DocumentReference:
    description: A comprehensive reference to an external document, combining elements from ODM and FHIR
    is_a: IdentifiableElement
    attributes:
      # Core document reference attributes
      title:
        description: Document title
        range: string
      href:
        description: URL, URI, or relative path to the referenced document
        range: string
      pages:
        description: Reference to specific pages in a PDF document
        range: integer
        multivalued: true
        required: false
        
      # Content metadata attributes
      contentType:
        description: MIME type of the document
        range: string
        required: false
      language:
        description: The human language of the content
        range: string
        required: false
      size:
        description: Size of the document in bytes
        range: integer
        required: false
      hash:
        description: Hash of document content for integrity verification
        range: string
        required: false
      
      # FHIR compatibility attributes
      resourceType:
        description: Indicates the FHIR resource type (typically "DocumentReference")
        range: string
        required: false
      status:
        description: The status of this document reference (current | superseded | entered-in-error)
        range: string
        required: false
      docStatus:
        description: Status of the underlying document (preliminary | final | amended | entered-in-error)
        range: string
        required: false
      category:
        description: Categorization of document (e.g., clinical, administrative)
        range: string
        multivalued: true
        required: false
      relationship:
        description: Relationship to the referencing entity
        range: string
        required: false
      description:
        description: Human-readable description of the document
        range: string
        required: false
      
      # Authentication and authorship
      author:
        description: Who authored the document
        range: Resource
        required: false
        multivalued: true
      authenticator:
        description: Who/what authenticated the document
        range: Resource
        required: false
      securityLabel:
        description: Security classification of the document
        range: string
        required: false
        multivalued: true
        
      # Context and timing
      creationContext:
        description: Clinical context in which the document was created
        range: Resource
        required: false
      versionIdentifier:
        description: Version of the referenced document
        range: string
        required: false
      validityPeriod:
        description: Time period during which the document is valid
        range: Period
        required: false
      creation:
        description: Document creation date
        range: dateTime
        required: false

  # New classes for Data Cube and Analysis Concept compatibility
  DataCube:
    is_a: ItemGroup
    close_mappings:
      - qb:DataStructureDefinition
    description: >-
      A dataset demanded by a specific Analysis
    attributes:
      dimensions:
        range: DimensionProperty
        multivalued: true
      measures:
        range: MeasureProperty
        multivalued: true
      attributes:
        range: AttributeProperty
        multivalued: true

  Timing:
    is_a: IdentifiableElement
    description: >-
      A timing element describes the timing of an event or occurrence.
      It can be absolute (specific date/time), relative (duration), or nominal (event-based).
    exact_mappings:
      - usdm:Timing
    broad_mappings:
      - fhir:Timing
    narrow_mappings:
      - omop:Observation_period
      - omop:Drug_era
      - omop:Condition_era
      - omop:Procedure_era
      - fhir:Period
      - fhir:Age
      - fhir:Duration
    attributes:
      type:
        description: >-
          The type of timing: Fixed, Before (Relative), or After (Relative).
        range: TimingType
        required: true
      isNominal:
        description: >-
          Indicates whether the timing is nominal (event-based) or not.
        range: boolean
      value:
        description: >-
          The value of the timing, which can be a date/time, duration, or event reference.
        range: string
        required: true
      relativeTo:
        description: >-
          Reference to the event or occurrence that this timing is relative to.
        range: NominalOccurrence
      relativeFrom:
        description: >-
          Reference to the event or occurrence that this timing is relative to.
        range: NominalOccurrence
      windowLower:
        description: Start date/time of the timing.
        range: dateTime
      windowUpper:
        description: End date/time of the timing.
        range: dateTime
      recalled:
        description: >-
          Indicates whether the timing is recalled or not (recalled timings are less reliable).
        range: boolean
      frequency:
        description: >-
          Frequency. Use dose frequency terminology e.g. "BID" if applicable.
        range: string
      imputation:
        description: >-
          The imputation method used for the Timing.
        range: Method

  NominalOccurrence:
    is_a: GovernedElement
    narrow_mappings:
      - usdm:ScheduledInstance
      - usdm:Encounter
      - fhir:PlanDefinition/action
      - omop:Visit_occurrence
      - omop:Condition_occurrence
      - omop:Procedure_occurrence
    attributes:
      timing:
        description: >-
          A named event reference, that can nest further named timing references.
        range: Timing
        required: true
      event:
        description: >-
          The ID of the event in a Schedule.
        range: string
        required: false
      start:
        description: >-
          The start date/time of the occurrence.
        range: NominalOccurrence
      condition: 
        description: >-
          A condition that must be met for this occurrence to be valid.
        range: Condition
        multivalued: true

  MeasureProperty:
    is_a: Item
    exact_mappings:
      - qb:MeasureProperty
    description: >-
      A MeasureProperty element describes a measure property in a data cube.
    attributes:
      missingHandling:
        description: >-
          The method for handling missing values in the measure property.
        range: Method
      imputation:
        description: >-
          The imputation method used for the measure property.
        range: Method

  DimensionProperty:
    is_a: Item
    exact_mappings:
      - qb:DimensionProperty
    description: >-
      A DimensionProperty element describes a dimension property in a data cube.
    attributes:
      missingHandling:
        description: >-
          The method for handling missing values in the measure property.
        range: Method
      imputation:
        description: >-
          The imputation method used for the measure property.
        range: Method

  AttributeProperty:
    is_a: Item
    exact_mappings:
      - qb:AttributeProperty
    description: >-
      An AttributeProperty element describes an attribute property in a data cube.

  # New classes for FHIR compatibility
  Metadata:
    description: Container for metadata about an element
    attributes:
      versionId:
        description: Version identifier for this specific version of the resource
        range: string
        required: false
      lastUpdated:
        description: When the resource was last updated
        range: dateTime
        required: false
      source:
        description: Source system that created or updated the element
        range: string
        required: false
      profile:
        description: Profiles this resource claims to conform to
        range: string
        multivalued: true
        required: false
      security:
        description: Security tags applied to this resource
        range: Coding
        multivalued: true
        required: false
      tag:
        description: Tags applied to this resource
        range: Coding
        multivalued: true
        required: false

  Relationship:
    is_a: IdentifiableElement
    from_schema: sdtm
    description: >-
      A class to define semantic relationships between elements like Item or ItemGroup,
      capturing links such as "is the unit for" or "assesses seriousness of."
    attributes:
      subject:
        description: >-
          The starting element of the relationship (e.g., an Item or ItemGroup).
        range: IdentifiableElement
        required: true
      object:
        description: >-
          The ending element of the relationship.
        range: IdentifiableElement
        required: true
      predicateTerm:
        description: >-
          Short variable relationship linking phrase for programming purposes.
        range: PredicateTermEnum
        required: true
      linkingPhrase:
        description: >-
          Variable relationship descriptive linking phrase.
        range: LinkingPhraseEnum
        required: true
      
  Translation:
    description: >-
      A translation object that can be used to represent text in multiple languages.
    attributes:
      "@language":
        description: The language of the translation.
        range: string
        required: true
      "@value":
        description: The translated text.
        range: string
        required: true

  TranslationList:
    attributes:
      translations:
        range: Translation
        multivalued: true
        inlined: true
        inlined_as_list: true
        
types:
  TranslatedText:
    exact_mappings:
      - odm:TranslatedText
    description: >-
      Text that can be represented in multiple languages.
      Can be either a simple string or a list of translation objects.
      { "@language": "en", "@value": "Hello" }
    union_of:
      - string
      - TranslationList[]

enums:
  AliasPredicateEnum:
    description: permissible values for the relationship between an element and an alias
    from_schema: linkml:AliasPredicateEnum
    permissible_values:
      EXACT_SYNONYM:
        description: Codes have identical meaning e.g. "diabetes mellitus" and "DM"
        meaning: skos:exactMatch
      RELATED_SYNONYM:
        description: Codes are related but not equivalent e.g. "diabetes" and "mellitus"
        meaning: skos:relatedMatch
      BROAD_SYNONYM:
        description: Target is broader than source e.g. "diabetes" is broader than "type 2 diabetes"
        meaning: skos:broaderMatch
      NARROW_SYNONYM:
        description: Target is narrower than source e.g. "type 2 diabetes" is narrower than "diabetes"
        meaning: skos:narrowerMatch

  Comparator:
    description: >-
      The type of comparison for a RangeCheck.
    permissible_values:
      LT:
        description: Less than
      LE:
        description: Less than or equal
      GT:
        description: Greater than
      GE:
        description: Greater than or equal
      EQ:
        description: Equal
      NE:
        description: Not equal
      IN:
        description: In set
      NOTIN:
        description: Not in set

  SoftHard:
    description: >-
      Indicates whether a validation check is an error or a warning.
    permissible_values:
      Soft:
        description: Warning
      Hard:
        description: Error

  MethodType:
    description: >-
      The type of method.
    permissible_values:
      Computation:
        description: >-
          Mathematical computation using values of other items.
      Imputation:
        description: >-
          Assignment of a value based on a estimation (imputation) procedure.
      Transformation:
        description: >-
          Transformation of the item's value according to a standard algorithm, such as a change in units.

  DataType:
    description: >-
      The data type for an item.
    permissible_values:
      text:
        description: >-
          Character text with no length restriction.
      integer:
        description: >-
          Integer numbers.
      float:
        description: >-
          Floating-point numbers (decimals).
      date:
        description: >-
          Calendar date.
      time:
        description: >-
          Time of day.
      datetime:
        description: >-
          Calendar date and time of day.
      boolean:
        description: >-
          Logical values (true/false).
      double:
        description: >-
          Double-precision floating-point numbers.
      hex:
        description: >-
          Hexadecimal number.
      base64:
        description: >-
          Base-64 encoded binary data.
      hexBinary:
        description: >-
          Hexadecimal encoded binary data.

  OriginType:
    description: >-
      The type of origin for a data item.
    permissible_values:
      CRF:  
        description: >-
          Case Report Form.
      Derived:
        description: >-
          Derived from other items.
      Protocol:
        description: >-
          Protocol-defined data.
      eDT:
        description: >-
          Electronic data transfer.
      Predecessor:
        description: >-
          From a predecessor study.
  
  OriginSource:
    description: Enumeration used in source
    permissible_values:
      Investigator:
        text: Investigator
        meaning: ncit:C25936
      Sponsor:
        text: Sponsor
        meaning: ncit:C70793
      Subject:
        text: Subject
        meaning: ncit:C41189
      Vendor:
        text: Vendor
        meaning: ncit:C68608

  ItemGroupRoles:
    description: >-
      The role of an item group within a specific context.
    permissible_values:
      Table:
        description: >-
          A table or data frame.
      Object:
        description: >-
          An object or profile of a FHIR resource.
      DataSpecialization:
        description: >-
          A data specialization of a biomedical concept.
      Section:
        description: >-
          A section of a form.
  
  ItemRoles:
    description: >-
      The role of an item within a specific context.
    permissible_values:
      Variable:
        description: >-
          A variable in a table or data cube.
        broad_mappings:
          - qb:MeasureProperty
      Attribute:
        description: >-
          An attribute of an object or resource.
        exact_mappings:
          - qb:AttributeProperty
      Field:
        description: >-
          A field in a form or document.
        broad_mappings:
          - qb:ComponentProperty
      Dimension:
        description: >-
          A categorical dimension used to slice the dataset.
        exact_mappings:
          - qb:DimensionProperty

  TimingType:
    description: >-
      CDISC Timing Type values indicating the temporal relationship of an observation to a reference point.
    permissible_values:
      After:
        text: After
        meaning: ncit:C201356
      Before:
        text: Before
        meaning: ncit:C201357
      Fixed:
        text: Fixed
        meaning: ncit:C201358

  LinkingPhraseEnum:
    from_schema: sdtm
    description: Variable relationship descriptive linking phrase from COSMoS SDTM BC model.
    permissible_values:
      assesses seriousness of:
      assesses the severity of:
      associates the tumor identified in:
      decodes the value in:
      describes actions taken:
      describes relationship of:
      describes the outcome of:
      further describes the test in:
      further specifies the anatomical location in:
      groups tumor assessments used in overall response identified by:
      groups values in:
      groups, within an individual subject, values in:
      identifies a pattern of:
      identifies an observation described by:
      identifies overall response supported by tumor assessments identified by:
      identifies the image from the procedure in:
      identifies the tumor found by the test in:
      indicates occurrence of the value in:
      indicates pre-specification of the value in:
      indicates severity of:
      indicates the previous irradiation status of the tumor identified by:
      indicates the progression status of the previous irradiated tumor identified by:
      is a dictionary-derived term for the value in:
      is a dictionary-derived class code for the value in:
      is a dictionary-derived class name for the value in:
      is decoded by the value in:
      is original text for:
      is the administered amount of the treatment in:
      is the administration anatomical location for the treatment in:
      is the aspect of the event used to define the date in:
      is the clinical significance interpretation for:
      is the code for the value in:
      is the dictionary code for the test in:
      is the dictionary-derived term for the value in:
      is the dictionary-derived class code for the value in:
      is the dictionary-derived class name for the value in:
      is the duration for:
      is the end date for:
      is the epoch of the performance of the test in:
      is the frequency of administration of the amount in:
      is the identifier for the source data used in the performance of the test in:
      is the material type of the subject of the activity in:
      is the medical condition that is the reason for the treatment in:
      is the method for the test in:
      is the part of the body through which is administered the treatment in:
      is the physical form of the product in:
      is the result of the test in:
      is the role of the assessor who performed the test in:
      is the specimen tested in:
      is the start date for:
      is the subject position during performance of the test in:
      is the subject's fasting status during the performance of the test in:
      is the unit for the value in:
      is the unit for:
      specifies the anatomical location in:
      specifies the anatomical location of:
      specifies the anatomical location of the performance of the test in:
      specifies the anatomical location of the tumor identified by:
      specifies the severity of:
      values are grouped by:
      was the subject position during performance of the test in:
      identifies the reference used in the genomic test in:
      indicates heritability of the genetic variant in:
      is an identifier for a published reference for the genetic variant in:
      is an identifier for the copy, on one of two homologous chromosones, of the genetic variant in:
      is an identifier for the genetic sequence of the genetic entity represented by:
      is the chromosome that is the position of the result in:
      is the clinical trial or treatment setting for:
      is the date of occurrence:
      is the date of occurrence for:
      is the intended disease outcome for:
      is the method of secondary analysis of results in:
      is the numeric location, within a chromosone, genetic entity, or genetic sub-region, of the result in:
      is the symbol for the genomic entity that is the position of the result in:
      is the type of genomic entity that is the position of the result in:
      is the genetic sub-location of the result in:
      is the object of the observation in:
      is an identifier for the evaluator with the role in:
      is the severity of the toxicity in:
      is a grouping of values in:
      is the textual description of the intended dose regimen for:
      is the reason for stopping administration of:
      is the value of the property identified by:
      is the name of the reference terminology for:
      is the version of the reference terminology in:

  PredicateTermEnum:
    from_schema: sdtm
    description: Short variable relationship linking phrase for programming purposes from COSMoS SDTM BC model.
    permissible_values:
      ASSESSES:
      CLASSIFIES:
      DECODES:
      DESCRIBES:
      GROUPS:
      GROUPS_BY:
      IDENTIFIES:
      IDENTIFIES_OBSERVATION:
      IDENTIFIES_PRODUCT_IN:
      IDENTIFIES_TUMOR_IN:
      INDICATES:
      IS_ATTRIBUTE_FOR:
      IS_DECODED_BY:
      IS_DERIVED_FROM:
      IS_EPOCH_OF:
      IS_GROUPED_BY:
      IS_INDICATOR_FOR:
      IS_ORIGINAL_TEXT_FOR:
      IS_POSITION_FOR:
      IS_REASON_FOR:
      IS_RESULT_OF:
      IS_SPECIMEN_TESTED_IN:
      IS_SUBJECT_STATE_FOR:
      IS_TIMING_FOR:
      IS_UNIT_FOR:
      PERFORMED:
      PERFORMS:
      QUALIFIES:
      SPECIFIES:
      IS_VALUE_OF:
      IS_REFERENCE_TERMINOLOGY_FOR:
id: https://cdisc.org/define-json
name: Define-JSON
description: >-
  Data model for supply and demand data contracts to complement CDISC USDM, ODM, and Dataset-JSON.
  This LinkML version includes semantics to act as Rosetta Stone for SDMX, FHIR, OMOP, RDF, and CDISC.
license: MIT
prefixes:
  linkml: https://w3id.org/linkml/
  skos: http://www.w3.org/2004/02/skos/core#
  odm: https://cdisc.org/odm2/
  usdm: https://cdisc.org/usdm/
  sdtm: https://cdisc.org/cosmos/sdtm_v1.0#
  fhir: http://hl7.org/fhir/
  omop: https://omop.org/omop-cdm/
  qb: http://purl.org/linked-data/cube#
  sdmx: http://purl.org/linked-data/sdmx#
  dprod: https://ekgf.github.io/dprod/
  prov: http://www.w3.org/ns/prov#
  dcat: http://www.w3.org/ns/dcat#
  osb: https://openstudybuilder.com/
  dct: http://purl.org/dc/terms/
default_prefix: odm

imports:
  - linkml:types

classes:
  IdentifiableElement:
    abstract: true
    mixins:
      - Identifiable
      - Labelled

  GovernedElement:
    abstract: true
    mixins:
      - Identifiable
      - Labelled
      - Governed

  Identifiable:
    description: >-
      A mixin that provides slots for making an entity addressable within a study or context
    mixin: true
    attributes:
      OID:
        description: >-
          Local identifier within this study/context.
          Use CDISC OID format for regulatory submissions,
          or simple strings for internal use.
        identifier: true
        required: false
        range: string
        pattern: "^[A-Za-z][A-Za-z0-9._-]*$"
      # URI vs UUID?
      uuid:
        description: Universal unique identifier
        range: string

  Governed:
    description: >-
      A mixin that provides slots for audit trail and standards governance, including mandatory status, comments, and attribution
    mixin: true
    slot_usage:
      OID:
        required: true
    attributes:
      mandatory:
        description: >-
          Is this element required?
        range: boolean
      comments:
        description: >-
          Comment on the element, such as a rationale for its inclusion or exclusion
        range: Comment
        multivalued: true
        inlined: false
      siteOrSponsorComments:
        description: >-
          Comment on the element, such as a rationale for its inclusion or exclusion
        range: SiteOrSponsorComment
        multivalued: true 
        inlined: false
      purpose:
        description: Purpose or rationale for this data element
        any_of:
          - range: string
          - range: TranslatedText
      lastUpdated:
        description: When the resource was last updated
        range: datetime
      owner:
        description: Party responsible for this element
        narrow_mappings:
          - prov:wasAttributedTo
          - prov:wasAssociatedBy
        any_of:
          - range: User
          - range: Organization
          - range: string
      wasDerivedFrom:
        description: >-
          Reference to another item that this item implements or extends, e.g. a template Item definition.
        exact_mappings:
          - prov:wasDerivedFrom
        any_of:
          - range: Item
          - range: ItemGroup
          - range: MetaDataVersion
          - range: CodeList
          - range: ReifiedConcept
          - range: ConceptProperty
          - range: Condition
          - range: Method
          - range: NominalOccurrence
          - range: Dataflow
          - range: CubeComponent
          - range: DataProduct
          - range: ProvisionAgreement

  Labelled:
    description: >-
      A mixin that provides slots for detailing meanings and multilingual descriptions
    mixin: true
    attributes:
      name:
        description: Short name or identifier, used for field names
        range: string
      description:
        description: Detailed description, shown in tooltips
        any_of:
          - range: string
          - range: TranslatedText
      coding:
        description: Semantic tags for this element
        range: Coding
        multivalued: true
        inlined: true
        inlined_as_list: true
      label:
        description: Human-readable label, shown in UIs
        any_of:
          - range: string
          - range: TranslatedText
        exact_mappings:
          - skos:prefLabel
      aliases:
        description: >-
          Alternative name or identifier
        any_of:
          - range: string
          - range: TranslatedText
        multivalued: true
        inlined: true
        inlined_as_list: true
        exact_mappings:
          - skos:altLabel

  Formatted:
    description: >-
      A mixin that provides slots for reporting, exchange, or storage formatting
    mixin: true
    related_mappings:
      - sdmx:Facet
      - sdmx:Representation
    attributes:
      decimalDigits:
        description: >-
          For decimal values, the number of digits after the decimal point
        range: integer
      displayFormat:
        description: >-
          A display format for the item
        range: string
      significantDigits:
        description: >-
          For numeric values, the number of significant digits
        range: integer

  Versioned:
    description: >-
      A mixin that provides version and connectivity information, including version numbers and resource references
    mixin: true
    attributes:
      version:
        description: >-
          The version of the external resources
        range: string
      href:
        description: Machine-readable instructions to obtain the resource e.g. FHIR path, URL
        range: string
        required: false

  IsProfile:
    description: >-
      A mixin that provides additional metadata for FHIR resources and Data Products, including profiles, security tags, and validity periods
    mixin: true
    mixins:
      - Versioned
    attributes:
      profile:
        description: Profiles this resource claims to conform to
        range: string
        multivalued: true
      security:
        description: Security tags applied to this resource
        range: Coding
        multivalued: true
        inlined: true
        inlined_as_list: true
      authenticator:
        description: Who/what authenticated the resource
        any_of:
          - range: User
          - range: Organization
          - range: string
        required: false
      validityPeriod:
        description: Time period during which the resouce is valid
        range: Timing
        required: false

  IsODMItem:
    mixin: true
    description: >-
      A mixin that provides additional attributes for CDISC Operational Data Model items, including roles, completion instructions, and implementation notes
    attributes:
      role:
        description: >-
          Identifies the role of the item within the containing context, taken from the roleCodeList
        any_of:
          - range: string
          - range: TranslatedText
      roleCodeList:
        description: >-
          Reference to the CodeList that defines the roles for this item
        range: CodeList
      hasNoData:
        description: >-
          Set to Yes if this is a manifest and there is no data for this item
        range: boolean
      crfCompletionInstructions:
        any_of:
          - range: string
          - range: TranslatedText
        description: >-
          CRFCompletionInstructions reference: Instructions for the clinical site on how to enter collected information on the CRF
      cdiscNotes:
        any_of:
          - range: string
          - range: TranslatedText
        description: >-
          CDISCNotes reference: Explanatory text for the variable
      implementationNotes:
        description: >-
          ImplementationNotes reference: Further information, such as rationale and implementation instructions, on how to implement the CRF data collection fields
        any_of:
          - range: string
          - range: TranslatedText
      collectionExceptionCondition:
        description: >-
          Condition that defines when collection may be exempted
        range: Condition
      preSpecifiedValue:
        description: >-
          Prefill value or a default value for a field that is automatically populated.
        any_of:
          - range: string
          - range: TranslatedText

  ODMFileMetadata:
    description: >-
      A mixin that provides ODM file-level metadata attributes including file identifiers, timestamps, and system information
    mixin: true
    attributes:
      fileOID:
        description: Unique identifier for the ODM file
        range: string
        required: true
      asOfDateTime:
        description: Date and time when the data snapshot was taken
        range: datetime
      creationDateTime:
        description: Date and time when the ODM file was created
        range: datetime
        required: true
      odmVersion:
        description: Version of the ODM standard used
        range: string
        required: true
      fileType:
        description: Type of ODM file (e.g., Snapshot, Transactional)
        range: string
        required: true
      originator:
        description: Organization or system that created the ODM file
        range: string
      sourceSystem:
        description: Source system that generated the data
        range: string
      sourceSystemVersion:
        description: Version of the source system
        range: string
      context:
        description: Define-XML context (usually "Other" for Define-XML)
        range: string
      defineVersion:
        description: Version of Define-XML specification used
        range: string

  StudyMetadata:
    description: >-
      A mixin that provides study-level metadata attributes including study identification and protocol information
    mixin: true
    attributes:
      studyOID:
        description: Unique identifier for the study
        range: string
        required: true
      studyName:
        description: Name of the study
        range: string
      studyDescription:
        description: Description of the study
        range: string
      protocolName:
        description: Protocol name for the study
        range: string

  MetaDataVersion:
    tree_root: true
    description: >-
      A container element that represents a given version of a specification, linking to a particular usage context such as a study, dataset, or data collection instrument.
    close_mappings:
      - usdm:StudyDesign
    is_a: GovernedElement
    mixins:
      - ODMFileMetadata
      - StudyMetadata
    attributes:
      itemGroups:
        description: >-
          Item groups, containing items, defined in this version of the metadata
        range: ItemGroup
        multivalued: true
        inlined: true
        inlined_as_list: true
      items:
        description: >-
          Template or top-level items (not belonging to any item group) defined in this version of the metadata
        range: Item
        multivalued: true
        inlined: true
        inlined_as_list: true
      conditions:
        description: >-
          Logical conditions that apply to this version of the metadata.
        range: Condition
        multivalued: true
        inlined: true
        inlined_as_list: true
      whereClauses:
        description: >-
          Data contexts that apply to this version of the metadata.
        range: WhereClause
        multivalued: true
        inlined: true
        inlined_as_list: true
      methods:
        description: >-
          Methods defined in this version of the metadata.
        range: Method
        multivalued: true
        inlined: true
        inlined_as_list: true
      analyses:
        description: >-
          Analyses defined in this version of the metadata.
        range: Analysis
        multivalued: true
        inlined: true
        inlined_as_list: true
      codeLists:
        description: >-
          Code lists defined in this version of the metadata.
        range: CodeList
        multivalued: true
        inlined: true
        inlined_as_list: true
      codings:
        description: Codings defined in this version of the metadata
        range: Coding
        multivalued: true
        inlined: true
        inlined_as_list: true
      concepts:
        description: Structured Concepts defined in this version of the metadata
        range: ReifiedConcept
        multivalued: true
      relationships:
        description: >-
          Relationships between items, item groups, and other elements in this version of the metadata.
        range: Relationship
        multivalued: true
        inlined: true
        inlined_as_list: true
      dictionaries:
        description: Dictionaries defined in this version of the metadata
        range: Dictionary
        multivalued: true
        inlined: true
        inlined_as_list: true
      standards:
        description: >-
          Standards defined in this version of the metadata
        range: Standard
        multivalued: true
        inlined: true
        inlined_as_list: true
      annotatedCRFs:
        description: >-
          Reference to annotated case report forms
        range: DocumentReference
        multivalued: true
        inlined: true
        inlined_as_list: true
      resources:
        description: >-
          References to resources and documents that describe this version of the metadata.
        any_of:
          - range: DocumentReference
          - range: Resource
        multivalued: true
        inlined: true
        inlined_as_list: true
      dataProducts:
        description: >-
          Indexed data flows with clear ownership
        range: DataProduct
        multivalued: true
        inlined: true
        inlined_as_list: true
      displays:
        description: >-
          Displays defined in this version of the metadata.
        range: Display
        multivalued: true
        inlined: true
        inlined_as_list: true
        
  Item:
    description: >-
      A data element that represents a specific piece of information within a defined context, with data type, constraints, and derivation methods
    close_mappings:
      - odm:ItemRef
      - odm:ItemDef
      - qb:ComponentSpecification
      - sdmx:DataAttribute
      - sdmx:MetadataAttribute
    narrow_mappings:
      - fhir:StructureDefinition/variable
      - fhir:Questionnaire/item
      - qb:ComponentProperty
      - omop:Field
      - omop:DerivedColumn
    related_mappings:
      - usdm:BiomedicalConceptProperty
      - usdm:DerivationConceptProperty
      - usdm:AnalysisConceptProperty
      - fhir:ElementDefinition
      - qb:Measure
      - qb:Attribute
      - sdmx:Concept
      - sdmx:Component
      - sdmx:Representation
      - osb:sdtm_variable
      - osb:specimen
      - osb:unit_dimension
      - osb:std_unit
    is_a: GovernedElement
    mixins:
      - IsODMItem
      - Formatted
    attributes:
      dataType:
        description: >-
          The data type of the item.
        range: DataType
        required: true
      length:
        description: >-
          The maximum length of the data item in characters.
        range: integer
      codeList:
        description: >-
          Reference to the CodeList that constrains the item values.
        range: CodeList
      method:
        description: >-
          Reference to the Method element that describes how to derive this item's value.
        range: Method
      rangeChecks:
        description: Range checks applied to this item (e.g. edit checks, CORE rules)
        range: RangeCheck
        multivalued: true
        inlined: true
        inlined_as_list: true
      applicableWhen:
        description: |
          References to different situations that define when this item applies.
          Multiple whereClauses are combined with OR logic: the item applies if ANY referenced WhereClause matches.
          Within each WhereClause, conditions are combined with AND logic: all conditions must be true.
          
          Example: whereClause: ["WC.SYSBP", "WC.DIABP"] means the item applies when
          (all conditions in WC.SYSBP are true) OR (all conditions in WC.DIABP are true).
        range: WhereClause
        multivalued: true
        inlined: false
        close_mappings:
          - fhir:StructureDefinition/context
      origin:
        description: >-
          The origin of the data
        range: Origin
        inlined: true
      conceptProperty:
        description: >-
          Reference to a abstract concept property that this item is a specialization / instance of.
        range: ConceptProperty

  ItemGroup:
    description: >-
      A collection element that groups related items or subgroups within a specific context, used for tables, FHIR resource profiles, biomedical concept specializations, or form sections
    close_mappings:
      - odm:ItemGroupDef
      - odm:ItemGroupRef
      - osb:ActivityInstance
    narrow_mappings:
      - fhir:StructureDefinition
      - fhir:ViewDefinition
      - fhir:Questionnaire
      - omop:Table
      - qb:DataStructureDefinition
      - sdmx:DataStructureDefinition
      - sdmx:MetaDataStructureDefinition
    related_mappings:
      - qb:Dataset
      - qb:Observation
      - qb:ObservationGroup
      - qb:Slice
      - osb:Activity
    is_a: GovernedElement
    mixins:
      - IsProfile
    attributes:
      domain:
        description: >-
          Domain abbreviation for the dataset.
        range: string
      structure:
        description: >-
          Data structure of the item group, indicating how the records are organized.
          If this is a FHIR Resource, is it nested or flattened?
          If this is a structured concept, is it a Biomedical/Derivation/Analysis concept?
        any_of:
          - range: string
          - range: TranslatedText
      isReferenceData:
        description: >-
          Set to Yes if this is a reference item group.
        range: boolean
      type:
        description: >-
          Type of item group
        range: ItemGroupType
      items:
        description: Items in this group
        range: Item
        multivalued: true
        close_mappings:
          - fhir:StructureDefinition/snapshot
          - fhir:StructureDefinition/differential
        inlined: false
        inlined_as_list: true
      keySequence:
        description: >-
          Ordered list of Items that define the dataset key structure for sorting and uniqueness.
          Each entry is an OID reference to an Item in the items array.
          Order determines sorting precedence, merge operations, and record uniqueness.
          These are allowed to be null, unlike stricter dataset dimensions or primary keys.
        range: Item
        multivalued: true
        inlined: false
        inlined_as_list: true
        close_mappings:
          - odm:ItemRef.KeySequence
          - sdmx:DimensionDescriptor
      children:
        description: >-
          Child ItemGroups nested within this item group (e.g., ValueLists under parent domains).
          Can be either:
          - Full ItemGroup objects (preferred for hierarchical nesting)
          - OID string references (for cross-references to avoid duplication)
        range: ItemGroup
        multivalued: true
        inlined: true
        inlined_as_list: true
        any_of:
          - range: ItemGroup
          - range: string
      implementsConcept:
        description: >-
          Reference to a abstract concept topic that this item group is a specialization of
        range: ReifiedConcept
      applicableWhen:
        description: |
          References to different situations that define when this item applies.
          Multiple whereClauses are combined with OR logic: the item applies if ANY referenced WhereClause matches.
          Within each WhereClause, conditions are combined with AND logic: all conditions must be true.
          
          Example: whereClause: ["WC.SYSBP", "WC.DIABP"] means the item applies when
          (all conditions in WC.SYSBP are true) OR (all conditions in WC.DIABP are true).
        range: WhereClause
        multivalued: true
        inlined: false
        close_mappings:
          - fhir:StructureDefinition/context

  Relationship:
    description: >-
      A semantic link that defines connections between elements such as Items or ItemGroups, capturing relationships like "is the unit for" or "assesses seriousness of"
    from_schema: sdtm
    related_mappings:
      - sdmx:ConceptSchemeMap
    is_a: IdentifiableElement
    attributes:
      subject:
        description: >-
          The starting element of the relationship (e.g., an Item or ItemGroup).
        range: IdentifiableElement
        required: true
      object:
        description: >-
          The ending element of the relationship.
        range: IdentifiableElement
        required: true
      predicateTerm:
        description: >-
          Short variable relationship linking phrase for programming purposes.
        range: PredicateTermEnum
        required: true
      linkingPhrase:
        description: >-
          Variable relationship descriptive linking phrase.
        range: LinkingPhraseEnum
        required: true

  Translation:
    description: >-
      A text representation that provides content in a specific language, used for multilingual support
    exact_mappings:
      - odm:TranslatedText
      - sdmx:InternationalString
    attributes:
      "language":
        description: The language of the translation
        range: string
        required: true
      "value":
        description: The translated text
        range: string
        required: true

  TranslatedText:
    attributes:
      translations:
        range: Translation
        multivalued: true
        inlined: true
        inlined_as_list: true

  CodeList:
    description: >-
      A value set that defines a discrete collection of permissible values for an item, corresponding to the ODM CodeList construct
    exact_mappings:
      - odm:CodeList
      - omop:Vocabulary
      - fhir:ValueSet
    close_mappings:
      - skos:Collection
      - sdmx:ItemScheme
      - qb:codeList
    related_mappings:
      - usdm:BiomedicalConceptProperty/responseCodes
    narrow_mappings:
      - sdmx:Codelist
      - sdmx:ValueList
      - sdmx:ConceptScheme
    is_a: GovernedElement
    mixins:
      - Versioned
    attributes:
      dataType:
        description: >-
          The data type for the values in the code list
        range: DataType
      formatName:
        description: >-
          Name of a standard format definition
        range: string
      codeListItems:
        description: >-
          The individual values that make up this CodeList.
          The type of CodeListItem included determines its behaviour
        range: CodeListItem
        multivalued: true
        inlined: true
        inlined_as_list: true
      externalCodeList:
        description: >-
          Reference to a code list that is defined externally to this study
        range: Resource

  CodeListItem:
    description: >-
      A structured member of a CodeList that extends the Coding class with additional context-specific properties
    exact_mappings:
      - odm:CodeListItem
    close_mappings:
      - usdm:AliasCode
      - usdm:ResponseCode
      - fhir:CodeableConcept
      - omop:Concept
    narrow_mappings:
      - sdmx:Code
      - sdmx:ValueItem
    attributes:
      codedValue:
        description: >-
          The value of the CodeListItem before decoding
        range: string
        required: true
      decode:
        description: >-
          The decoded value of the CodeListItem
        range: string
      description:
        description: >-
          A detailed description of the code (e.g., for documentation purposes)
        any_of:
          - range: string
          - range: TranslatedText
      coding:
        description: >-
          The dictionary definition of the CodeListItem
        range: Coding
        inlined: true
      aliases:
        description: Alternative labels for the code (ODM Alias, skos:altLabel)
        any_of:
          - range: string
          - range: TranslatedText
        multivalued: true
      weight:
        description: Numeric significance of the code (e.g., for scoring)
        range: decimal
      other:
        description: >-
          Flag to indicate that the term represents "other" content
        range: boolean

  Comment:
    description: >-
      A descriptive element that contains explanatory text provided by a data or metadata handler
    exact_mappings:
      - odm:CommentDef
      - usdm:CommentAnnotation
      - fhir:Annotation
      - sdmx:Annotation
    is_a: GovernedElement
    attributes:
      text:
        description: >-
          The comment text.
        any_of:
          - range: string
          - range: TranslatedText
        required: true
      documents:
        description: >-
          References to documents that contain or are referenced by this comment
        range: DocumentReference
        multivalued: true
        inlined: true
        inlined_as_list: true

  Coding:
    description: >-
      A semantic reference that provides standardized codes and their meanings from controlled vocabularies
    exact_mappings:
      - odm:Coding
      - usdm:Code
      - fhir:Coding
    close_mappings:
      - omop:Concept
      - skos:Concept
      - skos:Label
      - sdmx:Code
      - sdmx:Concept
      - sdmx:ISOConceptReference
    attributes:
      code:
        description: >-
          The code value
        range: string
        required: true
      decode:
        description: Human-readable meaning
        any_of:
          - range: string
          - range: TranslatedText
        exact_mappings:
          - skos:prefLabel
      codeSystem:
        description: >-
          The code system identifier
        range: string
        required: true
      codeSystemVersion:
        description: >-
          The code system version
        range: string
      aliasType:
        description: >-
          How this coding is related in the context of its parent element
        range: AliasPredicate

  Dictionary:
    description: >-
      A dictionary that defines a set of codes and their meanings
    is_a: IdentifiableElement
    mixins:
      - Versioned
    attributes:
      terms:
        description: Terms in this dictionary - leave this empty in most cases to keep the file small
        range: Coding
        multivalued: true
        inlined: true
        inlined_as_list: true
      publishedBy:
        description: >-
          Associates the Data Provider that reports/publishes the data.
        any_of:
          - range: Organization
          - range: string

  ReifiedConcept:
    description: >-
      A canonical information layer that makes abstract concepts explicit and referenceable, showing how different data implementations represent the same underlying meanings through a star schema structure with multiple properties
    close_mappings:
      - sdmx:MetaDataStructureDefinition
      - sdmx:Concept
      - osb:Activity
    narrow_mappings:
      - usdm:BiomedicalConcept
      - usdm:AnalysisConcept
      - usdm:DerivationConcept
    related_mappings:
      - osb:ActivityInstance
      - osb:assm_group
      - osb:assm_subgroup
    is_a: GovernedElement
    mixins:
      - Versioned
    attributes:
      properties:
        description: >-
          Properties of the reified object, which can be other governed elements or simple values
        range: ConceptProperty
        multivalued: true
        inlined: true
        inlined_as_list: true

  ConceptProperty:
    description: >-
      A reified property concept that exists within the context of its containing topic concept
    close_mappings:
      - sdmx:MetaDataAttribute
      - sdmx:Concept
    narrow_mappings:
      - usdm:BiomedicalConceptProperty
      - usdm:DerivationConceptProperty
      - usdm:AnalysisConceptProperty
    related_mappings:
      - osb:sdtm_variable
      - osb:specimen
      - osb:unit_dimension
      - osb:std_unit
      - osb:laterality
      - osb:location
      - osb:position
    is_a: GovernedElement
    attributes:
      minOccurs:
        description: >-
          Minimum number of occurrences of this property in the context.
          Set to >0 to mandate some number of occurrences
        range: integer
      maxOccurs:
        description: >-
          Maximum number of occurrences of this property in the context.
          Leave empty for unbounded. Set to 0 to disable property
        range: integer
      codeList:
        description: >-
          Reference to a CodeList that constrains the values of this property
        range: CodeList

  WhereClause:
    description: >-
      A conditional element that describes the circumstances under which a containing context applies, linking conditions to structures where they are used
    close_mappings:
      - sdmx:AttachmentConstraint
    related_mappings:
      - fhir:StructureDefinition/context
      - qb:ObservationGroup
      - qb:Slice
      - sdmx:CubeRegion
      - sdmx:MetadataTargetRegion
    is_a: GovernedElement
    attributes:
      conditions:
        description: Logical conditions that apply in this context (combined with AND)
        range: Condition
        multivalued: true
        inlined: false

  Condition:
    description: >-
      A reusable, composable, and nestable logical construct allowing for complex expressions.
      Conditions are most useful when given a meaningful name and linked to Study Definitions.
    close_mappings:
      - odm:ConditionDef
      - usdm:Condition
    related_mappings:
      - fhir:Expression
      - qb:SliceKey
      - sdmx:DataConstraint
      - sdmx:MetaDataConstraint
      - sdmx:DataKeySet
    is_a: GovernedElement
    attributes:
      rangeChecks:
        description: Range checks that compose this condition
        range: RangeCheck
        multivalued: true
        inlined: true
        inlined_as_list: true
      implementsCondition:
        description: Reference to a external (e.g. USDM) condition definition that this implements
      expressions:
        description: >-
          Logical expression, resolving to a boolean, that implements this condition in a specific context
        range: FormalExpression
        multivalued: true
        inlined: true
        inlined_as_list: true
      operator:
        description: >-
          Logical operator for combining child conditions or range checks.
          Defaults to ALL if not specified.
        range: LogicalOperator
        required: false
      conditions:
        description: >-
          Child conditions to combine using the operator.
          Multiple conditions are composed according to the operator (AND/OR/NOT).
          Rearrange and nest to compose XOR, or combinations of AND and OR.
          Unless the operator is EXPRESSION, in which case the formalExpression is used instead.
          Use OID references to reuse conditions defined elsewhere.
        range: Condition
        multivalued: true
        inlined: false

  RangeCheck:
    description: >-
      A validation element that performs a simple comparison check between a referenced item's value and specified values, resolving to a boolean result
    related_mappings:
      - qb:SliceKey
      - sdmx:DataKey
    attributes:
      comparator:
        description: >-
          The type of comparison to be performed
        range: Comparator
      checkValues:
        description: Values to compare against
        range: string
        multivalued: true
        inlined: true
        inlined_as_list: true
      item:
        description: >-
          Reference to the Item element whose value is being checked. If not specified, check applies to the enclosing context
        any_of:
          - range: Item
          - range: Dimension
          - range: Measure
          - range: DataAttribute
      softHard:
        description: >-
          Indicates whether a validation check is an error ("Hard") or a warning ("Soft")
        range: SoftHard
      expressions:
        description: >-
          A formal expression for complex checks
        range: FormalExpression
        multivalued: true
        inlined: true
        inlined_as_list: true
      operator:
        description: >-
          Logical operator for combining child conditions or range checks.
          Defaults to ALL if not specified.
        range: LogicalOperator
        required: false

  FormalExpression:
    description: >-
      A computational element that defines the execution of a data derivation within a specific context
    exact_mappings:
      - odm:FormalExpression
      - odm:FormalExpressionRef
      - fhir:Expression
    is_a: IdentifiableElement
    attributes:
      context:
        description: >-
          The specific context within the containing element to which this formal expression applies.
        exact_mappings:
          - fhir:Expression/language
        range: string
      expression:
        description: >-
          The actual text of the formal expression (renamed from 'code' for disambiguation).
        range: string
        aliases: [code]
        required: true
      returnType:
        description: Return type of the expression
        range: string
      parameters:
        description: Parameters used in the expression
        range: Parameter
        multivalued: true
        inlined: true
        inlined_as_list: true
      returnValue:
        description: Return value details
        range: ReturnValue
      externalCodeLibs:
        description: External code libraries referenced
        range: Resource
        multivalued: true

  Method:
    description: >-
      A reusable computational procedure that describes how to derive values and can be referenced by Items.

      Analysis and Derivation concepts can be implemented by a Method.
      Properties can be referenced by Parameters in its expressions.
    exact_mappings:
      - odm:MethodRef
      - odm:MethodDef
    close_mappings:
      - fhir:Expression
      - omop:Transformation
    is_a: GovernedElement
    attributes:
      type:
        description: >-
          The type of method e.g. Computation, Imputation, Transformation.
        range: MethodType
      expressions:
        description: >-
          Formal expressions used by this method
        range: FormalExpression
        multivalued: true
        inlined: true
        inlined_as_list: true
      documents:
        description: >-
          Reference to a document that describes this method in detail.
        range: DocumentReference
        multivalued: true
        inlined: true
        inlined_as_list: true
      implementsConcept:
        description: >-
          Reference to a specific concept that this Method implements.
        range: ReifiedConcept
        inlined: false

  SourceItem:
    description: >-
      A data source that provides the origin of information for an item
    attributes:
      item:
        description: Reference to an item
        range: Item
        inlined: false
      document:
        description: Reference to an external document
        range: DocumentReference
        multivalued: true
        inlined: true
        inlined_as_list: true
      resource:
        description: Path to a resource (e.g. File, FHIR datasource) that is the source of this item
        any_of:
          - range: Resource
          - range: string
        multivalued: true
        inlined: false
      coding:
        description: >-
          A coding that describes the source of the item
        range: Coding
        multivalued: true
        inlined: true
        inlined_as_list: true

  Parameter:
    description: >-
      A variable element that describes an input used in a formal expression
    is_a: IdentifiableElement
    attributes:
      dataType:
        description: >-
          The data type of the parameter.
        range: DataType
      codeList:
        description: >-
          A list of allowed values for the parameter.
        range: CodeList
        multivalued: true
      value:
        description: >-
          A specific bound value for the parameter.
        range: string
      defaultValue:
        description: >-
          A default value for the parameter.
        range: string
      items:
        description: >-
          A list of item dependencies for the parameter.
        any_of:
          - range: Item
          - range: Dimension
          - range: Measure
          - range: DataAttribute
        multivalued: true
        inlined: false
      conceptProperty:
        description: >-
          Reference to a specific concept property that this parameter represents or modifies.
        range: ConceptProperty
        multivalued: true
        inlined: false
      applicableWhen:
        description: >-
          References to different situations that define when this parameter 
          is applicable or required in the containing expression.
          Multiple whereClauses are combined with OR logic: the parameter applies 
          if ANY referenced WhereClause matches.

          Within each WhereClause, conditions are combined with AND logic.
          Example: applicableWhen: ["WC.ADULT", "WC.PEDIATRIC"] means the parameter 
          is needed when (all conditions in WC.ADULT are true) OR 
          (all conditions in WC.PEDIATRIC are true).
        range: WhereClause
        multivalued: true
        inlined: false
      conditions:
        description: >-
          Validation conditions that constrain this parameter's value beyond controlled terminology.
          Multiple conditions are combined with AND logic: all must be satisfied.
          Use these for parameter validation rules, distinct from applicableWhen 
          which determines if the parameter is needed at all.
          
          Example: A parameter AGE might have conditions ensuring it's >= 0 and <= 120.
          or conditions might make up part of a componsed expression.
        range: Condition
        multivalued: true
        inlined: false    
      required:
        description: >-
          Indicates whether this parameter must be provided when the 
          containing expression is evaluated (technical constraint).
        range: boolean
        ifabsent: false

  ReturnValue:
    description: >-
      An output specification that defines the details of what a formal expression returns
    is_a: IdentifiableElement
    attributes:
      dataType:
        description: >-
          The data type of the return value.
        range: DataType
      valueList:
        description: >-
          A list of possible return values.
        range: string
        multivalued: true

  Origin:
    description: >-
      A provenance element that describes the source of data for an item
    attributes:
      type:
        description: >-
          The type of origin: Assigned, Collected, Derived, Protocol, Predecessor, Not Available, or Other.
        range: OriginType
      source:
        description: >-
          The source of the data, such as Investigator, Sponsor, Subject, or Vendor.
        range: OriginSource
      sourceItems:
        description: >-
          Source items for this origin
        range: SourceItem
        multivalued: true
        inlined: true
        inlined_as_list: true
      documents:
        description: >-
          Reference to a document that describes this origin in detail.
        range: DocumentReference
        multivalued: true
        inlined: true
        inlined_as_list: true

  SiteOrSponsorComment:
    description: >-
      A feedback element that contains comments from a site or sponsor, distinct from the general Comment class
    is_a: GovernedElement
    attributes:
      text:
        description: >-
          The comment text.
        any_of:
          - range: string
          - range: TranslatedText
        required: true
      sourceType:
        description: >-
          who made the comment, such as Investigator, Sponsor.
        range: OriginSource
      source:
        description: >-
          ID of the comment provider
        any_of:
          - range: User
          - range: Organization
          - range: string

  User:
    description: >-
      An entity that represents information about a specific user of a clinical data collection or data management system
    exact_mappings:
      - odm:User
    broad_mappings:
      - prov:Agent
    is_a: IdentifiableElement
    attributes:
      userType:
        description: >-
          User's role in the study.
        range: UserType
      userName:
        description: >-
          The username of the user.
        range: string
      fullName:
        description: >-
          The full name of the user.
        range: string
      organization:
        description: >-
          The organization the user belongs to.
        close_mappings:
          - prov:actedOnBehalfOf
        range: Organization

  Organization:
    description: >-
      An entity that represents organizational information, such as a site or sponsor
    exact_mappings:
      - odm:Organization
      - usdm:Organization
      - sdmx:Organisation
    broad_mappings:
      - prov:Agent
    is_a: IdentifiableElement
    attributes:
      role:
        description: >-
          The role of the organization in the study.
        range: string
      type:
        description: >-
          The type of organization (e.g., site, sponsor, vendor).
        range: OrganizationType
      location:
        description: >-
          The physical location of the organization.
        range: string
      address:
        description: >-
          The address of the organization.
        range: string
      partOfOrganization:
        description: >-
          Reference to a parent organization if this organization is part of a larger entity.
        range: Organization

  Standard:
    description: >-
      A collection element that groups related standards within a specific context, used for defining CDISC implementation guides and controlled terminologies
    is_a: IdentifiableElement
    attributes:
      name:
        description: >-
          Name of a standard
        range: StandardName
      type:
        description: >-
          Type of a standard
        range: StandardType
      publishingSet:
        description: >-
          Publishing Set of a Controlled Terminology
        range: PublishingSet
      version:
        description: >-
          Version of an Implementation Guide or of a Controlled Terminology
        range: string
      status:
        description: >-
          Status of an Implementation Guide or of a Controlled Terminology
        range: StandardStatus

  Resource:
    description: >-
      An external reference that serves as the source for a Dataset, ItemGroup, or Item
    close_mappings:
      - odm:Resource
    is_a: IdentifiableElement
    mixins:
      - Versioned
    attributes:
      resourceType:
        description: >-
          Type of resource (e.g.,  "ODM", "HL7-FHIR", "HL7-CDA", "HL7-v2", "OpenEHR-extract")
        range: string
        required: false
      attribute:
        description: >-
          Field provided by the Name attribute where the data or information can be obtained.
          Examples are "valueQuantity.value" or "valueQuantity.unit".
        range: string
      selection:
        description: >-
          Machine-executable instructions for selecting data from the resource.
        range: FormalExpression
        multivalued: true
        inlined: true
        inlined_as_list: true

  DocumentReference:
    description: >-
      A comprehensive reference element that points to an external document, combining elements from ODM and FHIR
    is_a: IdentifiableElement
    mixins:
      - Versioned
    attributes:
      title:
        description: Document title
        range: string
      leafID:
        description: Leaf identifier for document reference in Define-XML
        range: string
      pages:
        description: Reference to specific pages in a PDF document
        range: integer
        multivalued: true
        required: false
      relationship:
        description: Relationship to the referencing entity
        range: string
        required: false

  Timing:
    description: >-
      A temporal element that describes the timing of an event or occurrence, which can be absolute, relative, or nominal
    exact_mappings:
      - usdm:Timing
    broad_mappings:
      - fhir:Timing
    narrow_mappings:
      - omop:Observation_period
      - omop:Drug_era
      - omop:Condition_era
      - omop:Procedure_era
      - fhir:Period
      - fhir:Age
      - fhir:Duration
    is_a: IdentifiableElement
    attributes:
      type:
        description: >-
          The type of timing: Fixed, Before (Relative), or After (Relative).
        range: TimingType
        required: true
      isNominal:
        description: >-
          Indicates whether the timing is nominal (event-based) or not.
        range: boolean
      value:
        description: >-
          The value of the timing, which can be a date/time, duration, or event reference.
        range: string
        required: true
      relativeTo:
        description: >-
          Reference to the event or occurrence that this timing is relative to.
        range: NominalOccurrence
      relativeFrom:
        description: >-
          Reference to the event or occurrence that this timing is relative to.
        range: NominalOccurrence
      windowLower:
        description: Start date/time of the timing
        range: datetime
      windowUpper:
        description: End date/time of the timing
        range: datetime
      recalled:
        description: >-
          Indicates whether the timing is recalled or not (recalled timings are less reliable).
        range: boolean
      frequency:
        description: >-
          Frequency. Use dose frequency terminology e.g. "BID" if applicable.
        range: string
      imputation:
        description: >-
          The imputation method used for the Timing.
        range: Method

  NominalOccurrence:
    description: >-
      An event element that represents occurrences such as planned or unplanned encounters or adverse events
    narrow_mappings:
      - usdm:ScheduledInstance
      - usdm:Encounter
      - usdm:InterCurrentEvent
      - fhir:PlanDefinition/action
      - fhir:ActivityDefinition
      - fhir:Encounter
      - fhir:AdverseEvent
      - omop:Visit_occurrence
      - omop:Condition_occurrence
      - omop:Procedure_occurrence
    related_mappings:
    is_a: GovernedElement
    attributes:
      timing:
        description: >-
          A named event reference, that can nest further named timing references.
        range: Timing
        required: true
      event:
        description: >-
          The ID of the event in a Schedule.
        range: string
        required: false
      condition:
        description: >-
          A condition that must be met for this occurrence to be valid.
        range: Condition
        multivalued: true

  # Illustrating relative level of detail in FHIR
  # IsFHIRDocument:
  #   mixin: true
  #   attributes:
  #     status:
  #       description: The status of this reference (current | superseded | entered-in-error)
  #       range: string
  #       required: false
  #   attributes:
  #     contentType:
  #       description: MIME type of the document
  #       range: string
  #       required: false
  #     language:
  #       description: The human language of the content
  #       range: string
  #       required: false
  #     size:
  #       description: Size of the document in bytes
  #       range: integer
  #       required: false
  #     hash:
  #       description: Hash of document content for integrity verification
  #       range: string
  #       required: false
  #     resourceType:
  #       description: Indicates the FHIR resource type (typically "DocumentReference")
  #       range: string
  #       required: false
  #     creationContext:
  #       description: Clinical context in which the document was created
  #       range: string
  #       required: false
  #     docStatus:
  #       description: Status of the underlying document (preliminary | final | amended | entered-in-error)
  #       range: string
  #       required: false
  #     category:
  #       description: Categorization of document (e.g., clinical, administrative)
  #       range: string
  #       multivalued: true
  #       required: false

  # FHIRDocument:
  #   is_a: DocumentReference
  #   mixins:
  #     - Identifiable
  #     - labelled
  #     - Governed
  #     - IsProfile
  #     - IsFHIRDocument

  # New classes for Data Cube, Analysis Concept, and DTA governance
  DataStructureDefinition:
    description: >-
      A structural element that defines the organization of a data cube for analysis, including dimensions, attributes, and measures
    close_mappings:
      - sdmx:DataStructureDefinition
      - qb:DataStructureDefinition
    is_a: ItemGroup
    attributes:
      dimensions:
        range: Dimension
        multivalued: true
      measures:
        range: Measure
        multivalued: true
      attributes:
        range: DataAttribute
        multivalued: true
      grouping:
        description: >-
          An association to a set of metadata concepts that have an identified
          structural role in a Data Structure Definition.
        range: ComponentList
      evolvingStructure:
        range: boolean
        ifabsent: false

  Dataflow:
    description: >-
      An abstract representation that defines data provision for different reference periods, where a Distribution and its Dataset are instances
    close_mappings:
      - sdmx:Dataflow
    related_mappings:
      - dprod:Distribution
      - dcat:Distribution
      - dprod:DataService
      - dcat:DataService
    is_a: GovernedElement
    mixins:
      - Versioned
    attributes:
      structure:
        description: >-
         Structured component specification for this flow
        range: DataStructureDefinition
        required: true
      dimensionConstraint:
        description: >-
          Subset of dimensions that are agreed upon by the dataflow and must be included.
        range: Dimension
        multivalued: true
      analysisMethod:
        description: >-
          Metadata about the analysis method used to produce the data in this dataflow.
        range: Analysis

  IsSdmxDataset:
    mixin: true
    description: >-
      A mixin that provides additional metadata specific to SDMX Datasets
    attributes:
      action:
        description: >-
          Defines the action to be taken by the recipient system (information, append, replace, delete)
      reportingBegin:
        description: >-
          A specific time period in a known system of time periods that
          identifies the start period of a report.
      reportingEnd:
        description: >-
          A specific time period in a known system of time periods that identifies
          the end period of a report.
      dataExtractionDate:
        description: >-
          A specific time period that identifies the date and time that the data are
          extracted from a data source.
      validFrom:
        description: >-
          Indicates the inclusive start time indicating the validity of the information
          in the data set.
      validTo:
        description: >-
          Indicates the inclusive end time indicating the validity of the information in the data set.
      publicationYear:
        description: >-
          Specifies the year of publication of the data or metadata in terms of whatever
          provisioning agreements might be in force.
      publicationPeriod:
        description: >-
          Specifies the period of publication of the data or metadata in terms of whatever provisioning
          agreements might be in force.

  Dataset:
    description: >-
      A collection element that groups observations sharing the same dimensionality, expressed as a set of unique dimensions within a Data Product context
    close_mappings:
      - qb:Dataset
      - sdmx:Dataset
      - dprod:Dataset
      - dcat:Dataset
    narrow_mappings:
      - sdmx:JsonDataset
      - sdmx:CsvDataset
      - sdmx:StructureSpecificDataset
    is_a: IdentifiableElement
    mixins:
      - Versioned
      - IsProfile
      - IsSdmxDataset
    attributes:
      describedBy:
        description: >-
          Associates a Dataflow and thereby a Data Structure Definition to the data set.
        range: Dataflow
      structuredBy:
        description: >-
          Associates the Data Structure Definition that defines the structure of the Data Set.
          Note that the Data Structure Definition is the same as that associated (non-mandatory) to the Dataflow.
        range: DataStructureDefinition
      publishedBy:
        description: >-
          Associates the Data Provider that reports/publishes the data.
        any_of:
          - range: Organization
          - range: string
      keys:
        description: >-
          Series and Group keys in the data that are associated with dimensions in this structure
        any_of:
          - range: SeriesKey
          - range: GroupKey
        required: true
        multivalued: true
        inlined: true
        inlined_as_list: true
      datasetType:
        description: Type or classification of the dataset
      distribution:
        description: Representations of this dataset in various formats or access methods
        range: Distribution
        multivalued: true
        inlined: true
        inlined_as_list: true
        exact_mappings:
          - dcat:distribution
      conformsTo:
        description: Specification or standard that this dataset conforms to
        close_mappings:
          - dct:conformsTo
      hasPolicy:
        description: Access or usage policy applied to this dataset
        multivalued: true
        inlined: true
        inlined_as_list: true
      informationSensitivityClassification:
        description: Classification of the dataset's sensitivity or confidentiality

  DatasetKey:
    description: >-
      An abstract identifier that comprises the cross-product of dimension values to identify a specific cross-section
    abstract: true
    exact_mappings:
      - sdmx:Key
    attributes:
      describedBy:
        description: >-
          Associates the Dimension Descriptor defined in the Data Structure Definition
        any_of:
          - range: Dimension
          - range: ComponentList
      keyValues:
        description: >-
          List of Key Values that comprise each key, separated by a dot
          e.g. SUBJ001.VISIT2.BMI
      attributeValues:
        description: >-
          Association to the Attribute Values relating to Key

  GroupKey:
    description: >-
      A dimension subset that represents collections of dimensions that are subsets of the full dimension set, distinct from SeriesKey which includes Time dimensions
    exact_mappings:
      - sdmx:GroupKey
    is_a: DatasetKey

  SeriesKey:
    description: >-
      A unique identifier that comprises the cross-product of dimension values including Time to identify observations, representing dimensions shared by all observations in a conceptual series
    exact_mappings:
      - sdmx:SeriesKey
    is_a: DatasetKey

  CubeComponent:
    description: >-
      An abstract data field that represents a component in a data structure definition, referencing an Item for its definition
    abstract: true
    exact_mappings:
      - sdmx:Component
    is_a: GovernedElement
    attributes:
      item:
        description: >-
          Reference to the Item that defines this component's data structure and properties
        range: Item
        required: true
      role:
        description: >-
          The role this component plays in its Structure Definition
      missingHandling:
        description: >-
          The method for handling missing values in the measure property
        range: Method
      imputation:
        description: >-
          The imputation method used for the measure property
        range: Method

  Measure:
    description: >-
      A data cube property that describes a measurable quantity or value
    exact_mappings:
      - qb:MeasureProperty
      - sdmx:Measure
    is_a: CubeComponent

  Dimension:
    description: >-
      A data cube property that describes a categorical or hierarchical dimension
    exact_mappings:
      - qb:DimensionProperty
      - sdmx:Dimension
    broad_mappings:
      - sdmx:DataAttribute
    narrow_mappings:
      - sdmx:MeasureDimension
      - sdmx:TimeDimension
    is_a: CubeComponent

  DataAttribute:
    description: >-
      A data cube property that describes additional characteristics or metadata about observations
    exact_mappings:
      - qb:AttributeProperty
      - sdmx:DataAttribute
    is_a: CubeComponent

  ComponentList:
    description: >-
      An abstract definition that specifies a list of components within a data structure definition, including various descriptor types
    exact_mappings:
      - sdmx:ComponentList
    is_a: IdentifiableElement
    attributes:
      components:
        description: >-
          The components that make up this component list
        any_of:
          - range: Measure
          - range: Dimension
          - range: DataAttribute
        multivalued: true
        inlined: true
        inlined_as_list: true

  # How a dataset is constructed, by attaching attributes to dimensions and measures at different levels
  # @Lex how do these relationships relate to SDTM DSS relationships?
  MeasureRelationship:
    description: >-
      A relationship element that associates a DataAttribute with a Measure
    exact_mappings:
      - sdmx:MeasureRelationship
    attributes:
      measure:
        range: Measure
      attribute:
        range: DataAttribute

  DataflowRelationship:
    description: >-
      A relationship element that associates a DataAttribute with a Dataflow, reported at the Dataset level
    exact_mappings:
      - sdmx:DataflowRelationship
    attributes:
      dataFlow:
        range: Dataflow
      attribute:
        range: DataAttribute

  GroupRelationship:
    description: >-
      A relationship element that associates a DataAttribute with a set of Dimensions, used when attribute values vary based on all group dimension values
    exact_mappings:
      - sdmx:GroupRelationship
    attributes:
      groupKey:
        description: >-
          Set of dimensions that this definition depends on
        exact_mappings:
          - sdmx:GroupDimensionDescriptor
        range: ComponentList
      attribute:
        range: DataAttribute

  DimensionRelationship:
    description: >-
      A relationship element that associates a DataAttribute with a specific Dimension at a specific level
    exact_mappings:
      - sdmx:DimensionRelationship
    attributes:
      dimensions:
        exact_mappings:
          - sdmx:DimensionDescriptor
        range: Dimension
        multivalued: true
      groupKey:
        description: >-
          Set of dimensions that this definition depends on
        exact_mappings:
          - sdmx:GroupDimensionDescriptor
        range: ComponentList
      attribute:
        range: DataAttribute

  ObservationRelationship:
    description: >-
      A relationship element that associates a DataAttribute with an Observation, allowing value-level Items to be reused across multiple different Views
    exact_mappings:
      - sdmx:ObservationRelationship
    attributes:
      item:
        description: >-
          Reference to the Item in an observation context that this definition applies to.
          e.g. the SDTM Variable Specialisation for a given Biomedical Concept Property.
        exact_mappings:
          - sdmx:ObservationDescriptor
        range: Item
      attribute:
        range: DataAttribute

  # DPROD to complement Dataset class and link to DCAT ontology
  DataProduct:
    description: >-
      A governed collection that represents a purpose-driven assembly of datasets and services with an owning team and lifecycle
    exact_mappings:
      - dprod:DataProduct
      - dcat:DataService
    is_a: GovernedElement
    mixins:
      - Versioned
    attributes:
      dataProductOwner:
        description: The person or team accountable for this data product
        any_of:
          - range: User
          - range: Organization
          - range: string
        exact_mappings:
          - prov:wasAttributedTo
      domain:
        description: The functional domain or business area this product serves
      lifecycleStatus:
        description: Current lifecycle status of the data product
        range: DataProductLifecycleStatus
      inputPort:
        description: Services that provide input into this data product
        range: DataService
        multivalued: true
        inlined: true
        inlined_as_list: true
      outputPort:
        description: Services that expose output from this data product
        range: DataService
        multivalued: true
        inlined: true
        inlined_as_list: true
      inputDataset:
        description: Source datasets used by the data product
        range: Dataset
        multivalued: true
        inlined: true
        inlined_as_list: true
      outputDataset:
        description: Output datasets produced by the data product
        range: Dataset
        multivalued: true
        inlined_as_list: true
      hasPolicy:
        description: Policies governing the use and access of the data product
        multivalued: true
        inlined: true
        inlined_as_list: true

  Distribution:
    description: >-
      A technical representation that provides a specific format or access method for a dataset
    exact_mappings:
      - dprod:Distribution
      - dcat:Distribution
    narrow_mappings:
      - sdmx:JsonDataset
      - sdmx:CsvDataset
      - sdmx:StructureSpecificDataset
    attributes:
      accessService:
        description: Service that provides access to this distribution
        range: DataService
      conformsTo:
        description: The standard or specification the distribution conforms to
        any_of:
          - range: string
          - range: DataStructureDefinition
      isDistributionOf:
        description: Dataset this distribution represents
        range: Dataset
      format:
        description: File format or serialization used in the distribution

  DataService:
    description: >-
      A service element that provides an API or endpoint for serving or receiving data
    exact_mappings:
      - dprod:DataService
      - dcat:DataService
    is_a: Resource
    attributes:
      isAccessServiceOf:
        description: Distribution(s) for which this service provides access
        range: Distribution
      protocol:
        description: Protocol used by the service (e.g., HTTPS, FTP)
      securitySchemaType:
        description: Security or authentication method used (e.g., OAuth2)

  DataProvider:
    description: >-
      An organization element that provides data to a Data Consumer, which can be a sponsor, site, or any other entity that supplies data
    close_mappings:
      - sdmx:DataProvider
    is_a: Organization
    attributes:
      providesDataFor:
        description: >-
          The Dataflows that this provider supplies data for
        range: Dataflow
        multivalued: true
      provisionAgreements:
        description: >-
          The ProvisionAgreements that this provider has with Data Consumers
        range: ProvisionAgreement
        multivalued: true
      source:
        description: >-
          Association to a data source
        range: Resource
        multivalued: true

  ProvisionAgreement:
    description: >-
      An agreement element that describes the contractual relationship between a Data Provider and a Data Consumer regarding data provision
    close_mappings:
      - sdmx:ProvisionAgreement
    is_a: GovernedElement
    mixins:
      - Versioned
    attributes:
      provider:
        description: >-
          The Data Provider that is part of this agreement
        range: DataProvider
      dataFlow:
        description: >-
          The Dataflow that is covered by this agreement
        range: Dataflow
      source:
        description: >-
          The source of the data provided under this agreement
        range: Resource

  Analysis:
    description: >-
      Analysis extends Method to capture analysis-specific metadata
      including the reason for analysis, its purpose, and data traceability
      for the results used.

      Expressions and parameters from Method can be generic or implementation-specific.
    is_a: Method
    mixins:
      - Versioned
    attributes:
      analysisReason:
        description: >-
          The reason this analysis was performed.  
      analysisPurpose:
        description: >-
          The purpose or role of this analysis in the study.
      analysisMethod:
        description: >-
          Generic method used to perform this analysis.
          any_of:
            - range: Method
            - range: AnalysisMethod
      applicableWhen:
        description: >-
          The conditions (e.g. population, time period etc.) that must be met for this analysis to be applicable.
        range: WhereClause
        multivalued: true
        inlined: false
      inputData:
        description: >-
          Datasets or slices/subsets of datasets asked for by this analysis.
          If a Item is referenced by a Parameter e.g. Analysis Variable, make sure to include its parent ItemGroup here.
        any_of:
          - range: ItemGroup
          - range: Dataset
        multivalued: true
        inlined: false

  Display:
    description: >-
      A rendered output of an analysis result.
    is_a: GovernedElement
    mixins:
      - Versioned
    attributes:
      analysis:
        description: >-
          Analysis result this display represents.
        range: Analysis
      displayType:
        description: >-
          The type of display this result represents.
          e.g. table, listing, figure, dashboard.
      location:
        description: >-
          Reference to documents / location containing the display.
        range: DocumentReference
        multivalued: true
        inlined: true
        inlined_as_list: true
enums:
  AliasPredicate:
    description: >-
      An enumeration that defines permissible values for the relationship between an element and its alias
    from_schema: linkml:AliasPredicateEnum
    permissible_values:
      EXACT_SYNONYM:
        description: Codes have identical meaning e.g. "diabetes mellitus" and "DM"
        meaning: skos:exactMatch
      RELATED_SYNONYM:
        description: Codes are related but not equivalent e.g. "diabetes" and "mellitus"
        meaning: skos:relatedMatch
      BROAD_SYNONYM:
        description: Target is broader than source e.g. "diabetes" is broader than "type 2 diabetes"
        meaning: skos:broaderMatch
      NARROW_SYNONYM:
        description: Target is narrower than source e.g. "type 2 diabetes" is narrower than "diabetes"
        meaning: skos:narrowerMatch

  Comparator:
    description: >-
      An enumeration that defines the types of comparison operations available for a RangeCheck
    permissible_values:
      LT:
        description: Less than
      LE:
        description: Less than or equal
      GT:
        description: Greater than
      GE:
        description: Greater than or equal
      EQ:
        description: Equal
      NE:
        description: Not equal
      IN:
        description: In set
      NOTIN:
        description: Not in set

  UserType:
    description: >-
      An enumeration that defines the types of users in a clinical data collection or management system
    permissible_values:
      Sponsor:
      Investigator:
      Lab:
      Other:
      Subject:
      Monitor:
      Data analyst:
      Care provider:
      Assessor:

  OrganizationType:
    description: >-
      An enumeration that defines the types of organizations involved in clinical research
    permissible_values:
      Sponsor:
      Site:
      CRO:
      Lab:
      TechnologyProvider:
      Other:

  SoftHard:
    description: >-
      An enumeration that indicates whether a validation check should be treated as an error or a warning
    permissible_values:
      Soft:
        description: Warning
      Hard:
        description: Error

  MethodType:
    description: >-
      An enumeration that defines the types of computational methods available for data processing
    permissible_values:
      Computation:
        description: >-
          Mathematical computation using values of other items.
      Imputation:
        description: >-
          Assignment of a value based on a estimation (imputation) procedure.
      Transformation:
        description: >-
          Transformation of the item's value according to a standard algorithm, such as a change in units.
      Analysis:
        description: >-
          Creation of analysis results dataset.
      Display:
        description: >-
          Creation of rendered output for display.

  DataType:
    description: >-
      An enumeration that defines the fundamental data types available for items
    permissible_values:
      text:
        description: >-
          Character text with no length restriction.
      integer:
        description: >-
          Integer numbers.
      float:
        description: >-
          Floating-point numbers (decimals).
      date:
        description: >-
          Calendar date.
      time:
        description: >-
          Time of day.
      datetime:
        description: >-
          Calendar date and time of day.
      boolean:
        description: >-
          Logical values (true/false).
      double:
        description: >-
          Double-precision floating-point numbers.
      hex:
        description: >-
          Hexadecimal number.
      base64:
        description: >-
          Base-64 encoded binary data.
      hexBinary:
        description: >-
          Hexadecimal encoded binary data.

  OriginType:
    description: >-
      An enumeration that defines the types of origins for data items.
    from_schema: ncit:C170449
    permissible_values:
      Assigned:
        description: >-
          A value that is derived through designation, such as values from a look up table or a label on a CRF.
        meaning: ncit:C170547
      Collected:
        description: >-
          A value that is actually observed and recorded by a person or obtained by an instrument.
        meaning: ncit:C170548
      Derived:
        description: >-
          A value that is calculated by an algorithm or reproducible rule, and which is dependent upon other data values.
        meaning: ncit:C170549
      Not Available:
        description: >-
          A value that is not discoverable or accessible.
        meaning: ncit:C126101
      Other:
        description: >-
          Different than the one(s) previously specified or mentioned. (NCI)
      Predecessor:
        description: >-
          A value that is copied from another variable.
        meaning: ncit:C170550
      Protocol:
        description: >-
          A value that is included as part of the study protocol.
        meaning: ncit:C170551

  OriginSource:
    description: >-
      An enumeration that defines the sources of data origin
    from_schema: ncit:C170450
    permissible_values:
      Investigator:
        text: Investigator
        meaning: ncit:C25936
      Sponsor:
        text: Sponsor
        meaning: ncit:C70793
      Subject:
        text: Subject
        meaning: ncit:C41189
      Vendor:
        text: Vendor
        meaning: ncit:C68608

  ItemGroupType:
    description: >-
      An enumeration that defines the roles of an item group within a specific context
    permissible_values:
      DataCube:
        description: >-
          A Data Structure Definition for an Analysis Data Cube of dimensions, measures, and attributes.
      Table:
        description: >-
          A simple table or data frame.
      Object:
        description: >-
          An object or profile of a FHIR resource.
      DataSpecialization:
        description: >-
          A data specialization of a concept.
      ValueList:
        description: >-
          A list of topic-specific items for a specific column (from Define-XML).
      Section:
        description: >-
          A section of a form.
      Form:
        description: >-
          A data collection form.

  TimingType:
    description: >-
      An enumeration that defines CDISC timing type values indicating the temporal relationship of an observation to a reference point
    permissible_values:
      After:
        text: After
        meaning: ncit:C201356
      Before:
        text: Before
        meaning: ncit:C201357
      Fixed:
        text: Fixed
        meaning: ncit:C201358

  # TODO: Add Enumerated terms for STATO / NCIT analysis concept relationships

  LinkingPhraseEnum:
    from_schema: sdtm
    description: >-
      An enumeration that defines variable relationship descriptive linking phrases from the COSMoS SDTM BC model
    permissible_values:
      assesses seriousness of:
      assesses the severity of:
      associates the tumor identified in:
      decodes the value in:
      describes actions taken:
      describes relationship of:
      describes the outcome of:
      further describes the test in:
      further specifies the anatomical location in:
      groups tumor assessments used in overall response identified by:
      groups values in:
      groups, within an individual subject, values in:
      identifies a pattern of:
      identifies an observation described by:
      identifies overall response supported by tumor assessments identified by:
      identifies the image from the procedure in:
      identifies the tumor found by the test in:
      indicates occurrence of the value in:
      indicates pre-specification of the value in:
      indicates severity of:
      indicates the previous irradiation status of the tumor identified by:
      indicates the progression status of the previous irradiated tumor identified by:
      is a dictionary-derived term for the value in:
      is a dictionary-derived class code for the value in:
      is a dictionary-derived class name for the value in:
      is decoded by the value in:
      is original text for:
      is the administered amount of the treatment in:
      is the administration anatomical location for the treatment in:
      is the aspect of the event used to define the date in:
      is the clinical significance interpretation for:
      is the code for the value in:
      is the dictionary code for the test in:
      is the dictionary-derived term for the value in:
      is the dictionary-derived class code for the value in:
      is the dictionary-derived class name for the value in:
      is the duration for:
      is the end date for:
      is the epoch of the performance of the test in:
      is the frequency of administration of the amount in:
      is the identifier for the source data used in the performance of the test in:
      is the material type of the subject of the activity in:
      is the medical condition that is the reason for the treatment in:
      is the method for the test in:
      is the part of the body through which is administered the treatment in:
      is the physical form of the product in:
      is the result of the test in:
      is the role of the assessor who performed the test in:
      is the specimen tested in:
      is the start date for:
      is the subject position during performance of the test in:
      is the subject's fasting status during the performance of the test in:
      is the unit for the value in:
      is the unit for:
      specifies the anatomical location in:
      specifies the anatomical location of:
      specifies the anatomical location of the performance of the test in:
      specifies the anatomical location of the tumor identified by:
      specifies the severity of:
      values are grouped by:
      was the subject position during performance of the test in:
      identifies the reference used in the genomic test in:
      indicates heritability of the genetic variant in:
      is an identifier for a published reference for the genetic variant in:
      is an identifier for the copy, on one of two homologous chromosones, of the genetic variant in:
      is an identifier for the genetic sequence of the genetic entity represented by:
      is the chromosome that is the position of the result in:
      is the clinical trial or treatment setting for:
      is the date of occurrence:
      is the date of occurrence for:
      is the intended disease outcome for:
      is the method of secondary analysis of results in:
      is the numeric location, within a chromosone, genetic entity, or genetic sub-region, of the result in:
      is the symbol for the genomic entity that is the position of the result in:
      is the type of genomic entity that is the position of the result in:
      is the genetic sub-location of the result in:
      is the object of the observation in:
      is an identifier for the evaluator with the role in:
      is the severity of the toxicity in:
      is a grouping of values in:
      is the textual description of the intended dose regimen for:
      is the reason for stopping administration of:
      is the value of the property identified by:
      is the name of the reference terminology for:
      is the version of the reference terminology in:

  PredicateTermEnum:
    from_schema: sdtm
    description: >-
      An enumeration that defines short variable relationship linking phrases for programming purposes from the COSMoS SDTM BC model
    permissible_values:
      ASSESSES:
      CLASSIFIES:
      DECODES:
      DESCRIBES:
      GROUPS:
      GROUPS_BY:
      IDENTIFIES:
      IDENTIFIES_OBSERVATION:
      IDENTIFIES_PRODUCT_IN:
      IDENTIFIES_TUMOR_IN:
      INDICATES:
      IS_ATTRIBUTE_FOR:
      IS_DECODED_BY:
      IS_DERIVED_FROM:
      IS_EPOCH_OF:
      IS_GROUPED_BY:
      IS_INDICATOR_FOR:
      IS_ORIGINAL_TEXT_FOR:
      IS_POSITION_FOR:
      IS_REASON_FOR:
      IS_RESULT_OF:
      IS_SPECIMEN_TESTED_IN:
      IS_SUBJECT_STATE_FOR:
      IS_TIMING_FOR:
      IS_UNIT_FOR:
      PERFORMED:
      PERFORMS:
      QUALIFIES:
      SPECIFIES:
      IS_VALUE_OF:
      IS_REFERENCE_TERMINOLOGY_FOR:

  DataProductLifecycleStatus:
    description: >-
      An enumeration that defines the lifecycle stages for a DataProduct
    permissible_values:
      Ideation:
      Design:
      Build:
      Deploy:
      Consume:

  StandardName:
    description: >-
      An enumeration that defines permissible values for standard names
    permissible_values:
      ADaMIG:
        description: Analysis Data Model Implementation Guide
      BIMO:
        description: Bioresearch Monitoring
      CDISC/NCI:
        description: CDISC/NCI Controlled Terminology
      SDTMIG:
        description: Study Data Tabulation Model Implementation Guide
      SDTMIG-AP:
        description: SDTMIG Associated Persons
      SDTMIG-MD:
        description: SDTMIG Medical Devices
      SENDIG:
        description: Standard for Exchange of Non-clinical Data Implementation Guide
      SENDIG-AR:
        description: SENDIG Adverse Reactions
      SENDIG-DART:
        description: SENDIG Developmental and Reproductive Toxicology
      SENDIG-GENETOX:
        description: SENDIG Genetic Toxicology

  StandardType:
    description: >-
      An enumeration that defines permissible values for standard types
    permissible_values:
      CT:
        description: Controlled Terminology
      IG:
        description: Implementation Guide

  PublishingSet:
    description: >-
      An enumeration that defines permissible values for publishing sets
    permissible_values:
      ADaM:
        description: Analysis Data Model
      CDASH:
        description: Clinical Data Acquisition Standards Harmonization
      DEFINE-XML:
        description: Define-XML Standard
      SDTM:
        description: Study Data Tabulation Model
      SEND:
        description: Standard for Exchange of Non-clinical Data

  StandardStatus:
    description: >-
      An enumeration that defines permissible values for standard status
    permissible_values:
      DRAFT:
        description: Draft version of the standard
      FINAL:
        description: Final version of the standard

  LogicalOperator:
    description: >-
      Logical operators for combining conditions in Boolean expressions.
      For complex expressions, use the EXPRESSION value.
    permissible_values:
      EXPRESSION:
        description: >-
          Evaluate condition using expression. Default if expression is present.
      AND:
        description: >-
          All child conditions must be true (all_of). Default if expression is not present.
      OR:
        description: >-
          At least one child condition must be true (any_of).
      NOT:
        description: >-
          Negates the child condition(s) (not_any_of).